#! /usr/bin/perl
#! /usr/bin/perl -i~

{
  while(<>)
    {

      ################################################################################
      #
      # lvalue + ":"
      #
      ################################################################################

      if(

	      s/^( .*> <b> (?<lvalue>

		[^:<]*

	      ) \s* : \s* (?<rvalue> [^<]* ) <\/b> <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{} -->/x
	)
	{}

      ################################################################################
      #
      # lvalue + ":" + rvalue
      #
      ################################################################################

      elsif(

	      s/^( .*> (?<lvalue>

		[^:<]*?

	      ) \s* : \s* (?<rvalue> [^<]* ) <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{$+{rvalue}} -->/x
	)
	{}

      ################################################################################
      #
      # lvalue + rvalue // lvalue and rvalue separated by space
      #
      ################################################################################

      elsif(

	      s/^( .*> (?<lvalue>

		\S+

	      ) \s* (?<rvalue> [^<]* ) <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{$+{rvalue}} -->/x
	)
	{}

      ################################################################################
      #
      # lvalue only
      # possibly with ":" at the end of the lvalue
      #
      # with placeholder for rvalue
      #
      ################################################################################

      elsif(

	      s/^( .*> <b> (?<lvalue>

		[^:<]*

	      ) ( \s* : )? <\/b> <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{} -->/x
	)
	{}
      elsif(

	      s/^( .*> (?<lvalue>

		[^:<]*

	      ) ( \s* : )? <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{} -->/x
	)
	{}

      ################################################################################

      print;
    }
}
