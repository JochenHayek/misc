#! /usr/bin/perl
#! /usr/bin/perl -i~

{
  while(<>)
    {

      ################################################################################
      #
      # lvalue + rvalue
      #
      ################################################################################

##      s/^( .*> (?<lvalue>
##
##        Bearbeitungs-Nr\.
##
##      ) \s+ (?<rvalue>.*) <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{$+{rvalue}} -->/x;

      ################################################################################
      #
      # lvalue only
      # possibly with ":" at the end of the lvalue
      #
      # with placeholder for rvalue
      #
      ################################################################################

      if(

	      s/^( .*> <b> (?<lvalue>

		[^:<]*

	      ):? <\/b> <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{} -->/x
	)
	{}
      elsif(

	      s/^( .*> (?<lvalue>

		[^:<]*

	      ):? <\/.* )$/${1}\t\t\t<!-- CAVEAT: {$+{lvalue}}=>{} -->/x
	)
	{}

      ################################################################################

      print;
    }
}
